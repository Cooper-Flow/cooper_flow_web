<section>
  @if (isLoading()) {
    <mat-progress-bar mode="indeterminate"></mat-progress-bar>
  }
  <div class="md:w-[500px] max-w-screen lg:p-4 px-3 py-4">
    <ng-container *ngTemplateOutlet="mainTemplate"></ng-container>
  </div>
</section>


<ng-template #mainTemplate>
  <div class="mb-4">
    <div>
      <input type="text" (keyup)="filter($event)" placeholder="Buscar produtor"
        class="rounded-lg bg-gray-50 border text-gray-900  block flex-1 w-full text-sm  p-2.5">
    </div>
  </div>

  <mat-divider></mat-divider>

  <div class="max-h-[20rem] overflow-auto p-4">
    @for (producer of producerList; track $index) {
    <div class="mb-2 flex items-center justify-between">
      <div class="flex items-center mr-2">
        <div>
          <app-icon icon="farmer" customClass="w-5 h-5 opacity-80 mr-2" />
        </div>
        <div>
          <span class="text-sm font-medium">{{ producer.name }}</span>
        </div>
      </div>

      <div>
        <button mat-stroked-button type="button" [mat-dialog-close]="producer" class="!text-sm">
          Selecionar
        </button>
      </div>
    </div>
    }
  </div>

</ng-template>
